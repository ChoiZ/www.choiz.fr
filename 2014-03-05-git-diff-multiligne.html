<!DOCTYPE html>
<html lang="fr">
<head>
  <link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,400italic" rel="stylesheet" type="text/css">
  <link rel="stylesheet" type="text/css" href="https://www.choiz.fr/theme/css/style.min.css">
  <link rel="stylesheet" type="text/css" href="https://www.choiz.fr/theme/css/pygments.min.css">
  <link rel="stylesheet" type="text/css" href="https://www.choiz.fr/theme/css/font-awesome.min.css">
  <link href="https://www.choiz.fr/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="ChoiZ Atom">
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="index, follow" />
<meta name="author" content="choiz" />
<meta name="description" content="Lors d'une modification d'un bout de code, j'ai perdu la fin d'une ligne… J'ai du faire un git diff dans mon terminal et copié la ligne (mais pas entièrement…). J'ai donc refais un git diff dans mon terminal et je me suis aperçu que ma ligne qui devait être sur …" />
<meta name="keywords" content="git, diff, config">
<meta property="og:site_name" content="ChoiZ"/>
<meta property="og:title" content="Git diff multiligne"/>
<meta property="og:description" content="Lors d'une modification d'un bout de code, j'ai perdu la fin d'une ligne… J'ai du faire un git diff dans mon terminal et copié la ligne (mais pas entièrement…). J'ai donc refais un git diff dans mon terminal et je me suis aperçu que ma ligne qui devait être sur …"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="https://www.choiz.fr/2014-03-05-git-diff-multiligne.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2014-03-05 12:56:00+01:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="https://www.choiz.fr/author/choiz.html">
<meta property="article:section" content="text"/>
<meta property="article:tag" content="git"/>
<meta property="article:tag" content="diff"/>
<meta property="article:tag" content="config"/>
<meta property="og:image" content="">  <title>ChoiZ &ndash; Git diff multiligne</title>
</head>
<body>
  <aside>
    <div>
      <a href="https://www.choiz.fr">
        <img src="https://www.choiz.fr/theme/img/profile.png" alt="Blog technique de François LASSERRE" title="Blog technique de François LASSERRE">
      </a>
      <div>
          <a href="https://www.choiz.fr">Blog technique de François LASSERRE</a>
      </div>
      <nav>
        <ul class="list">
          <li><a href="/">Home</a></li>
          <li><a href="/archives">Archives</a></li>
          <li><a href="/tags">Tags</a></li>
        </ul>
      </nav>
      <p>Je suis ingénieur informatique, depuis l'an 2000, j'ai fondé plusieurs webradios la dernière du nom est <a href="https://www.frequencehit.com">Fréquence Hit</a> n'hésitez pas à jeter une oreille.<br><br>Je fais de la domotique depuis 2017 et j'utilise principalement <a href="https://github.com/ChoiZ/home-assistant#home-assistant">Home-Assistant</a>.</p>
      <ul class="social">
        <li><a class="sc-github" href="https://www.github.com/ChoiZ"><i class="fa fa-github"></i></a></li>
        <li><a class="sc-lastfm" href="https://www.last.fm/user/ChoiZ"><i class="fa fa-lastfm"></i></a></li>
        <li><a class="sc-twitter" href="https://www.twitter.com/ChoiZ"><i class="fa fa-twitter"></i></a></li>
        <li><a class="sc-linkedin" href="https://www.linkedin.com/in/ChoiZ"><i class="fa fa-linkedin"></i></a></li>
      </ul>
    </div>
  </aside>
  <main>

<article>
  <header>
    <h1 id="2014-03-05-git-diff-multiligne">Git diff multiligne</h1>
    <p>Posté le mer. 05 mars 2014</p>
  </header>
  <div>
    <p>Lors d'une modification d'un bout de code, j'ai perdu la fin d'une
ligne…</p>
<p>J'ai du faire un <em>git diff</em> dans mon terminal et copié la ligne (mais
pas entièrement…).</p>
<p>J'ai donc refais un <em>git diff</em> dans mon terminal et je me suis aperçu
que ma ligne qui devait être sur plusieurs lignes ne l'était pas…</p>
<p>Mon fichier texte ressemble à ceci :</p>
<div class="highlight"><pre><span></span><code>ligne avec un peu de texte ici nous avons 66 caractères affichés.
</code></pre></div>

<p>Or, quand je fais un diff on ne voit pas tous les caractères :</p>
<div class="highlight"><pre><span></span><code><span class="nv">git</span><span class="w"> </span><span class="nv">diff</span><span class="w"> </span><span class="nv">HEAD</span><span class="o">~</span><span class="mi">1</span><span class="w"> </span><span class="nv">HEAD</span><span class="w"></span>
<span class="nv">diff</span><span class="w"> </span><span class="o">--</span><span class="nv">git</span><span class="w"> </span><span class="nv">a</span><span class="o">/</span><span class="nv">test</span>.<span class="nv">txt</span><span class="w"> </span><span class="nv">b</span><span class="o">/</span><span class="nv">test</span>.<span class="nv">txt</span><span class="w"></span>
<span class="nv">new</span><span class="w"> </span><span class="nv">file</span><span class="w"> </span><span class="nv">mode</span><span class="w"> </span><span class="mi">100644</span><span class="w"></span>
<span class="nv">index</span><span class="w"> </span><span class="mi">0000000</span>..<span class="mi">235</span><span class="nv">a891</span><span class="w"></span>
<span class="o">---</span><span class="w"> </span><span class="o">/</span><span class="nv">dev</span><span class="o">/</span><span class="nv">null</span><span class="w"></span>
<span class="o">+++</span><span class="w"> </span><span class="nv">b</span><span class="o">/</span><span class="nv">test</span>.<span class="nv">txt</span><span class="w"></span>
@@<span class="w"> </span><span class="o">-</span><span class="mi">0</span>,<span class="mi">0</span><span class="w"> </span><span class="o">+</span><span class="mi">1</span><span class="w"> </span>@@<span class="w"></span>
<span class="o">+</span><span class="nv">ligne</span><span class="w"> </span><span class="nv">avec</span><span class="w"> </span><span class="nv">un</span><span class="w"> </span><span class="nv">peu</span><span class="w"> </span><span class="nv">de</span><span class="w"> </span><span class="nv">texte</span><span class="w"> </span><span class="nv">ici</span><span class="w"> </span><span class="nv">nous</span><span class="w"> </span><span class="nv">avons</span><span class="w"> </span><span class="mi">66</span><span class="w"> </span><span class="nv">caract</span>è\<span class="w"></span>
<span class="nv">No</span><span class="w"> </span><span class="nv">newline</span><span class="w"> </span><span class="nv">at</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">file</span><span class="w"></span>
</code></pre></div>

<p>Pour résoudre ce problème il faut soit ajouter <em>GIT_PAGER=""</em> avant la
commande <em>git diff</em> soit ajouter dans son fichier de config git :</p>
<div class="highlight"><pre><span></span><code>git config --global core.pager &quot;less -r&quot;
</code></pre></div>

<p>Voilà ce que ça donne avec GIT_PAGER :</p>
<div class="highlight"><pre><span></span><code><span class="nv">GIT_PAGER</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="w"> </span><span class="nv">git</span><span class="w"> </span><span class="nv">diff</span><span class="w"> </span><span class="nv">HEAD</span><span class="o">~</span><span class="mi">1</span><span class="w"> </span><span class="nv">HEAD</span><span class="w"></span>
<span class="nv">diff</span><span class="w"> </span><span class="o">--</span><span class="nv">git</span><span class="w"> </span><span class="nv">a</span><span class="o">/</span><span class="nv">test</span>.<span class="nv">txt</span><span class="w"> </span><span class="nv">b</span><span class="o">/</span><span class="nv">test</span>.<span class="nv">txt</span><span class="w"></span>
<span class="nv">new</span><span class="w"> </span><span class="nv">file</span><span class="w"> </span><span class="nv">mode</span><span class="w"> </span><span class="mi">100644</span><span class="w"></span>
<span class="nv">index</span><span class="w"> </span><span class="mi">0000000</span>..<span class="mi">235</span><span class="nv">a891</span><span class="w"></span>
<span class="o">---</span><span class="w"> </span><span class="o">/</span><span class="nv">dev</span><span class="o">/</span><span class="nv">null</span><span class="w"></span>
<span class="o">+++</span><span class="w"> </span><span class="nv">b</span><span class="o">/</span><span class="nv">test</span>.<span class="nv">txt</span><span class="w"></span>
@@<span class="w"> </span><span class="o">-</span><span class="mi">0</span>,<span class="mi">0</span><span class="w"> </span><span class="o">+</span><span class="mi">1</span><span class="w"> </span>@@<span class="w"></span>
<span class="o">+</span><span class="nv">ligne</span><span class="w"> </span><span class="nv">avec</span><span class="w"> </span><span class="nv">un</span><span class="w"> </span><span class="nv">peu</span><span class="w"> </span><span class="nv">de</span><span class="w"> </span><span class="nv">texte</span><span class="w"> </span><span class="nv">ici</span><span class="w"> </span><span class="nv">nous</span><span class="w"> </span><span class="nv">avons</span><span class="w"> </span><span class="mi">66</span><span class="w"> </span><span class="nv">caract</span>è<span class="nv">res</span><span class="w"> </span><span class="nv">affich</span>é<span class="nv">s</span>.\<span class="w"></span>
<span class="nv">No</span><span class="w"> </span><span class="nv">newline</span><span class="w"> </span><span class="nv">at</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">file</span><span class="w"></span>
</code></pre></div>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="https://www.choiz.fr/tag/git.html">git</a>
      <a href="https://www.choiz.fr/tag/diff.html">diff</a>
      <a href="https://www.choiz.fr/tag/config.html">config</a>
    </p>
  </div>
</article>

    <footer>
      <p>&copy; François LASSERRE </p>
<p>Built using <a href="http://getpelican.com" target="_blank">Pelican</a> - <a href="https://github.com/choiz/Flexfork" target="_blank">Flexfork</a> theme by <a href="http://www.choiz.fr">François LASSERRE</a></p>    </footer>
  </main>
<!-- Piwik -->
<script type="text/javascript">
  var _paq = _paq || [];
  _paq.push(["setDomains", ["*.www.choiz.fr"]]);
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="//stats.rocketip.net/";
    _paq.push(['setTrackerUrl', u+'piwik.php']);
    _paq.push(['setSiteId', '7042kjNK6PYV9LoGM5np']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<noscript><p><img src="//stats.rocketip.net/piwik.php?idsite=7042kjNK6PYV9LoGM5np" style="border:0;" alt="" /></p></noscript>
<!-- End Piwik Code --><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BlogPosting",
  "name": "Git diff multiligne",
  "headline": "Git diff multiligne",
  "datePublished": "2014-03-05 12:56:00+01:00",
  "dateModified": "",
  "author": {
    "@type": "Person",
    "name": "choiz",
    "url": "https://www.choiz.fr/author/choiz.html"
  },
  "image": "{{ SITEURL }}/theme/img/profile.png",
  "url": "https://www.choiz.fr/2014-03-05-git-diff-multiligne.html",
  "description": "Lors d'une modification d'un bout de code, j'ai perdu la fin d'une ligne… J'ai du faire un git diff dans mon terminal et copié la ligne (mais pas entièrement…). J'ai donc refais un git diff dans mon terminal et je me suis aperçu que ma ligne qui devait être sur …"
}
</script></body>
</html>