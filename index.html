<!DOCTYPE html>
<html lang="fr">
<head>
  <link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,400italic" rel="stylesheet" type="text/css">
  <link rel="stylesheet" type="text/css" href="https://www.choiz.fr/theme/css/style.min.css">
  <link rel="stylesheet" type="text/css" href="https://www.choiz.fr/theme/css/pygments.min.css">
  <link rel="stylesheet" type="text/css" href="https://www.choiz.fr/theme/css/font-awesome.min.css">
  <link href="https://www.choiz.fr/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="ChoiZ Atom">
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="index, follow" />
  <meta name="author" content="François LASSERRE" />
  <meta name="description" content="" />
<meta property="og:site_name" content="ChoiZ"/>
<meta property="og:type" content="blog"/>
<meta property="og:title" content="ChoiZ"/>
<meta property="og:description" content=""/>
<meta property="og:locale" content="fr_FR"/>
<meta property="og:url" content="https://www.choiz.fr"/>
  <title>ChoiZ</title>
</head>
<body>
  <aside>
    <div>
      <a href="https://www.choiz.fr">
        <img src="https://www.choiz.fr/theme/img/profile.png" alt="Blog technique de François LASSERRE" title="Blog technique de François LASSERRE">
      </a>
      <div>
          <a href="https://www.choiz.fr">Blog technique de François LASSERRE</a>
      </div>
      <nav>
        <ul class="list">
          <li><a href="/">Home</a></li>
          <li><a href="/archives">Archives</a></li>
          <li><a href="/tags">Tags</a></li>
        </ul>
      </nav>
      <p>Je suis ingénieur informatique, depuis l'an 2000, j'ai fondé plusieurs webradios la dernière du nom est <a href="https://www.frequencehit.com">Fréquence Hit</a> n'hésitez pas à jeter une oreille.<br><br>Je fais de la domotique depuis 2017 et j'utilise principalement <a href="https://github.com/ChoiZ/home-assistant#home-assistant">Home-Assistant</a>.</p>
      <ul class="social">
        <li><a class="sc-github" href="https://www.github.com/ChoiZ"><i class="fa fa-github"></i></a></li>
        <li><a class="sc-lastfm" href="https://www.last.fm/user/ChoiZ"><i class="fa fa-lastfm"></i></a></li>
        <li><a class="sc-twitter" href="https://www.twitter.com/ChoiZ"><i class="fa fa-twitter"></i></a></li>
        <li><a class="sc-linkedin" href="https://www.linkedin.com/in/ChoiZ"><i class="fa fa-linkedin"></i></a></li>
      </ul>
    </div>
  </aside>
  <main>

<article>
  <header>
    <h2><a href="https://www.choiz.fr/2020-04-13-utiliser-les-github-issues-pour-avoir-des-commentaires-sur-le-blog.html">Utiliser les Github Issues pour avoir des commentaires sur le blog</a></h2>
    <p>
      Posté le lun. 13 avril 2020 &#8226;
Tags :
      <a href="https://www.choiz.fr/tag/blog.html">blog</a>,      <a href="https://www.choiz.fr/tag/github.html">github</a>,      <a href="https://www.choiz.fr/tag/commentaire.html">commentaire</a>    </p>
  </header>
  <div>
      <p>J'essaye depuis un certain temps de faire attention à ma vie privée sur Internet et j'évite d'être tracké.</p>
<p>J'essaye donc d'appliquer celà sur mon blog pour que l'affichage des pages soit plus rapide, que vous n'ayez pas 15 000 cookies etc…</p>
<p>Pour les commentaires j'utilisais disqus qui fonctionne très bien avec des sites statiques comme celui-ci qui est généré par pelican, mais il vous traque et n'est pas open source.</p>
<p>Ma recheche est donc la suivante :</p>
<ul>
<li>
<p>un outil open source de gestion de commentaire</p>
</li>
<li>
<p>qui ne vous traque pas</p>
</li>
<li>
<p>qui fonctionne avec un site statique</p>
</li>
</ul>
<p>J'ai trouvé <a href="https://utteranc.es/">utterances</a> qui est léger, open source, n'as pas de système de tracking, n'utilise pas de gros framework JavaScript, et se base les issues github pour stocker les commentaires.</p>
<p>Il faut donc que vous ayez un compte <a href="https://github.com">github</a> pour laisser un commentaire sur un article du blog.</p>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="https://www.choiz.fr/2020-04-12-faire-un-va-et-vient-avec-des-interrupteurs-muraux-xiaomi.html">Faire un va et vient avec des interrupteurs muraux Xiaomi</a></h2>
    <p>
      Posté le dim. 12 avril 2020 &#8226;
Tags :
      <a href="https://www.choiz.fr/tag/electricite.html">électricité</a>,      <a href="https://www.choiz.fr/tag/domotique.html">domotique</a>,      <a href="https://www.choiz.fr/tag/xiaomi.html">xiaomi</a>    </p>
  </header>
  <div>
      <p>J'ai recherché longtemps comment faire un va et vient avec des interrupteurs muraux Xiaomi.</p>
<p><img alt="Xiaomi switch wall" src="https://www.choiz.fr/images/xiaomi-switch-wall.png"></p>
<p>La seule solution proposée était de mettre :</p>
<ul>
<li>
<p>un interrupteur filaire.</p>
</li>
<li>
<p>un interrupteur sans fil.</p>
</li>
</ul>
<p>Cette solution ne me convient pas car j'ai des interrupteurs encastrés, je n'ai pas envie d'avoir un interrupteur sans fil collé, alors que j'ai potentiellement de l'electricité a cet endroit et je ne veux pas changer les piles…</p>
<p>J'ai donc pas mal fait de recherches, tests etc… pour au final trouver comment faire un va et vient "classique" comme on le fait avec des interrupteurs standards.</p>
<p><img alt="Schéma va et vient" src="https://www.choiz.fr/images/schema-va-et-vient-classic.png"></p>
<p>Pour que le va et vient fonctionne avec deux boutons xiaomi filaire il vous faut :</p>
<ul>
<li>
<p>un va et vient electrique type lumière d'escalier</p>
</li>
<li>
<p>un circuit classique type lumière d'une entrée (avec un seul interrupteur) qui soit a coté d'un des deux interrupteurs va et vient</p>
</li>
<li>
<p>un interrupteur deux boutons Xiaomi (un bouton sera alimenté par le deuxième circuit electrique, l'autre bouton sera pour le va et vient (slave) et n'aura pas besoin d'alimentation car il fonctionnera en sans fil et sans pile, il enverra l'ordre au master d'allumer ou éteindre)</p>
</li>
<li>
<p>un interrupteur un bouton (ou deux boutons) pour le deuxième bouton du va et vient (master).</p>
</li>
<li>
<p>un wago 2 bornes</p>
</li>
<li>
<p>2 wago une borne (pour la deuxième navette inutile)</p>
</li>
<li>
<p>un cache (obturateur) si on remplace 2 interrupteurs un bouton par un interrupteur deux boutons.</p>
</li>
</ul>
<p>Je prend l'exemple d'un va et vient dans un escalier (RDC - premier étage), avec 2 interrupteurs en bas :</p>
<ul>
<li>
<p>un qui alimente l'ampoule de l'entrée</p>
</li>
<li>
<p>un qui alimente l'ampoule de l'escalier (va et vient)</p>
</li>
</ul>
<p><strong>ATTENTION :</strong></p>
<p><strong>Avant toute intervention sur votre installation électrique, couper le disjoncteur général. Je ne pourrais en aucun cas être tenu pour responsable de vos agissements. Ce document est uniquement a titre d'information. Je ne pourrait être tenu pour responsable de tout dommages ou incidents.</strong></p>
<p><img alt="Schéma va et vient xiaomi" src="https://www.choiz.fr/images/schema-va-et-vient-xiaomi.png"></p>
<p>Je démonte au RDC, mon interrupteur de l'entrée, et mon ancien interrupteur avec va et vient classique, je me retrouve donc avec sur l'interrupteur de l'entrée :</p>
<ul>
<li>
<p>la phase pour la lumière de l'entrée</p>
</li>
<li>
<p>le câble allant vers la lumière de l'entrée</p>
</li>
</ul>
<p>sur l'interrupteur va et vient (bas) :</p>
<ul>
<li>
<p>la phase</p>
</li>
<li>
<p>deux navettes</p>
</li>
</ul>
<p>Je remplace mon interrupteur de l'entrée par l'interrupteur xiaomi :</p>
<ul>
<li>
<p>la phase sur le "L"</p>
</li>
<li>
<p>le câble allant vers la lumière de l'entrée sur le "L1" ou "L2" a voir quel bouton vous souhaitez utiliser pour l'entrée et votre va et vient</p>
</li>
</ul>
<p>Je prend mon wago ou équivalent, je branche :</p>
<ul>
<li>
<p>la phase de l'interrupteur va et vient (bas)</p>
</li>
<li>
<p>une navette (pour alimenter mon second interrupteur du premier étage)</p>
</li>
<li>
<p>le wago une borne sur la navette restante</p>
</li>
<li>
<p>je referme avec un "obturateur" pour avoir une finition propre</p>
</li>
</ul>
<p>Au premier étage j'ai toujours mon interrupteur classique fonctionnel je le laisse connecté pour savoir laquelle des deux navettes est sur notre wago (avec la phase). L'autre navette n'est pas connectée pour l'instant.</p>
<p>N'oubliez pas de re-couper le disjoncteur !</p>
<p>Démonter l'interrupteur du haut. Marquer d'un morceau de scotch electrique rouge de préférence la navette avec la phase.</p>
<p>Sur l'autre navette mettre le deuxième wago une borne.</p>
<p>Connecter votre interrupteur Xiaomi du haut un bouton (ou deux boutons) en plaçant :</p>
<ul>
<li>
<p>la phase obtenu par le Wago et par la navette avec le scotch rouge sur la borne "L" de votre interrupteur</p>
</li>
<li>
<p>le fil précédent allant sur votre ampoule sur la borne "L1" de votre interrupteur.</p>
</li>
</ul>
<p>Refixer l'interrupteur et tester le fonctionnement de celui-ci.</p>
<p>Si vous avez un interrupteur deux boutons en haut le deuxieme bouton peut également être utilisé en mode sans fil pour un autre appareil ou êteindre votre entrée d'en haut par exemple (a voir si c'est utile).</p>
<p>Pour que le va et vient soit fonctionnel, il ne vous reste plus qu'a activer le mode sans fil sur le deuxième bouton de votre interrupteur de l'entrée. Celui-ci doit déclencher sans fil l'interrupteur de l'escalier qui se trouve en haut.</p>
<p>J'ai personnellement trois va et vient qui fonctionnent ainsi grâce à plusieurs boutons situés a proximité les uns des autres.</p>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="https://www.choiz.fr/2019-04-23-optimisation-de-pdf-grace-a-imagemagick.html">Optimisation de pdf grâce à ImageMagick</a></h2>
    <p>
      Posté le mar. 23 avril 2019 &#8226;
Tags :
      <a href="https://www.choiz.fr/tag/imagemagick.html">imagemagick</a>,      <a href="https://www.choiz.fr/tag/pdf.html">pdf</a>    </p>
  </header>
  <div>
      <p>Ayant de gros pdf de 3Mo je cherchais une solution pour les optimiser en ligne de commande.</p>
<p>ImageMagick est doté de l'outil convert qui permet de convertir des images.</p>
<p>Avec la commande suivante j'ai pu convertir un PDF de 3,5Mo en un PDF de 1,5Mo en compressant les pages au format JPG 90%.</p>
<div class="highlight"><pre><span></span><code>convert -density 300x300 -quality 9 -compress jpeg input.pdf output.pdf
</code></pre></div>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="https://www.choiz.fr/2019-03-24-update-i3-sensible-terminal.html">Update i3-sensible-terminal</a></h2>
    <p>
      Posté le dim. 24 mars 2019 &#8226;
Tags :
      <a href="https://www.choiz.fr/tag/linux.html">linux</a>    </p>
  </header>
  <div>
      <p>En voulant modifier ma config de i3 je me suis aperçu que j'avais modifié la ligne :</p>
<div class="highlight"><pre><span></span><code><span class="nv">bindsym</span><span class="w"> </span>$<span class="nv">mod</span><span class="o">+</span><span class="k">Return</span><span class="w"> </span><span class="k">exec</span><span class="w"> </span><span class="nv">i3</span><span class="o">-</span><span class="nv">sensible</span><span class="o">-</span><span class="nv">terminal</span><span class="w"></span>
</code></pre></div>

<p>par la ligne suivante :</p>
<div class="highlight"><pre><span></span><code><span class="nv">bindsym</span><span class="w"> </span>$<span class="nv">mod</span><span class="o">+</span><span class="k">Return</span><span class="w"> </span><span class="k">exec</span><span class="w"> </span><span class="nv">urxvt</span><span class="w"></span>
</code></pre></div>

<p>Je préfere ne pas modifier cette ligne à chaque installation de i3wm, donc je réédite ma ligne pour utiliser par défaut <code>i3-sensible-terminal</code>.</p>
<p>Pour modifier le terminal executé par la commande <code>i3-sensible-terminal</code> il suffit donc de lancer la commande suivante puis de choisir dans mon cas urxvt :</p>
<div class="highlight"><pre><span></span><code>update-alternatives --config x-terminal-emulator
</code></pre></div>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="https://www.choiz.fr/2018-12-13-bien-nommer-ses-fichiers.html">Bien nommer ses fichiers</a></h2>
    <p>
      Posté le jeu. 13 décembre 2018 &#8226;
Tags :
      <a href="https://www.choiz.fr/tag/file.html">file</a>,      <a href="https://www.choiz.fr/tag/date.html">date</a>    </p>
  </header>
  <div>
      <p>Pour bien nommer vos fichiers une méthode simple est de mettre la date dans le nom du fichier mais… comment faire ?</p>
<p>Il faut mettre Lundi-10-Décembre-2018 dans le nom du fichier ?
Non.</p>
<p>Il faut donc mettre 10-12-2018 dans le nom du fichier ?
Toujours pas.</p>
<p>Ok donc comment faire ?
Pour moi la méthode la plus simple pour bien trier vos fichiers par ordre chronologique, est de commencer par l'année puis le mois puis le jour etc… On précise de plus en plus.
Donc pour le Lundi 10 Décembre 2018 je vais écrire 20181210 ou 2018-12-10.</p>
<p>Pourquoi ?</p>
<p>Lorsque l'on va trier nos fichiers avec le premier cas nous aurons :</p>
<div class="highlight"><pre><span></span><code>Lundi-10-Décembre-2018
Lundi-11-Décembre-2017
Mardi-11-Décembre-2018
Mardi-12-Décembre-2017
</code></pre></div>

<p>Le trie se fait jour par jour donc pas du tout par ordre chronologique.
Nous ne retenons pas cette solution.</p>
<p>Avec le second exemple :</p>
<div class="highlight"><pre><span></span><code><span class="mf">10</span><span class="o">-</span><span class="mf">12</span><span class="o">-</span><span class="mf">2018</span><span class="w"> </span><span class="p">(</span><span class="n">Lundi</span><span class="w"> </span><span class="mf">10</span><span class="w"> </span><span class="n">décembre</span><span class="w"> </span><span class="mf">2018</span><span class="p">)</span><span class="w"></span>
<span class="mf">11</span><span class="o">-</span><span class="mf">12</span><span class="o">-</span><span class="mf">2018</span><span class="w"> </span><span class="p">(</span><span class="n">Mardi</span><span class="w"> </span><span class="mf">11</span><span class="w"> </span><span class="n">décembre</span><span class="w"> </span><span class="mf">2018</span><span class="p">)</span><span class="w"></span>
<span class="mf">11</span><span class="o">-</span><span class="mf">12</span><span class="o">-</span><span class="mf">2017</span><span class="w"> </span><span class="p">(</span><span class="n">Lundi</span><span class="w"> </span><span class="mf">11</span><span class="w"> </span><span class="n">décembre</span><span class="w"> </span><span class="mf">2017</span><span class="p">)</span><span class="w"></span>
<span class="mf">12</span><span class="o">-</span><span class="mf">12</span><span class="o">-</span><span class="mf">2017</span><span class="w"> </span><span class="p">(</span><span class="n">Mardi</span><span class="w"> </span><span class="mf">12</span><span class="w"> </span><span class="n">décembre</span><span class="w"> </span><span class="mf">2017</span><span class="p">)</span><span class="w"></span>
</code></pre></div>

<p>Le trie se fait par jour, puis par mois, puis par année, donc nous avons tous les 10 décembre puis les 11 décembre etc… ce n'est toujours pas par ordre chronologique.
Nous ne retenons pas cette solution.</p>
<p>Avec le dernier exemple :</p>
<div class="highlight"><pre><span></span><code><span class="mf">2017</span><span class="o">-</span><span class="mf">12</span><span class="o">-</span><span class="mf">10</span><span class="w"> </span><span class="p">(</span><span class="n">Lundi</span><span class="w"> </span><span class="mf">10</span><span class="w"> </span><span class="n">décembre</span><span class="w"> </span><span class="mf">2017</span><span class="p">)</span><span class="w"></span>
<span class="mf">2017</span><span class="o">-</span><span class="mf">12</span><span class="o">-</span><span class="mf">11</span><span class="w"> </span><span class="p">(</span><span class="n">Mardi</span><span class="w"> </span><span class="mf">11</span><span class="w"> </span><span class="n">décembre</span><span class="w"> </span><span class="mf">2017</span><span class="p">)</span><span class="w"></span>
<span class="mf">2018</span><span class="o">-</span><span class="mf">12</span><span class="o">-</span><span class="mf">11</span><span class="w"> </span><span class="p">(</span><span class="n">Lundi</span><span class="w"> </span><span class="mf">11</span><span class="w"> </span><span class="n">décembre</span><span class="w"> </span><span class="mf">2018</span><span class="p">)</span><span class="w"></span>
<span class="mf">2018</span><span class="o">-</span><span class="mf">12</span><span class="o">-</span><span class="mf">12</span><span class="w"> </span><span class="p">(</span><span class="n">Mardi</span><span class="w"> </span><span class="mf">12</span><span class="w"> </span><span class="n">décembre</span><span class="w"> </span><span class="mf">2018</span><span class="p">)</span><span class="w"></span>
</code></pre></div>

<p>C'est bien par ordre chronologique, l'année puis le mois, puis le jour, c'est donc comme ça que nous devons écrire nos fichiers avec une date.</p>
<p>Si vous faites une photo de vous chaque année en septembre vous aurez donc photo.jpg qui sera nommer comme suit :</p>
<div class="highlight"><pre><span></span><code><span class="mf">2016</span><span class="o">-</span><span class="mf">09</span><span class="o">-</span><span class="n">photo</span><span class="mf">.</span><span class="n">jpg</span><span class="w"></span>
<span class="mf">2017</span><span class="o">-</span><span class="mf">09</span><span class="o">-</span><span class="n">photo</span><span class="mf">.</span><span class="n">jpg</span><span class="w"></span>
<span class="mf">2018</span><span class="o">-</span><span class="mf">09</span><span class="o">-</span><span class="n">photo</span><span class="mf">.</span><span class="n">jpg</span><span class="w"></span>
</code></pre></div>

<p>On a pas besoin de préciser le jour dans le cas précédent car on a qu'une photo par an en septembre d'ailleurs on pourrait même simplifier en :</p>
<div class="highlight"><pre><span></span><code><span class="mf">2016</span><span class="o">-</span><span class="n">photo</span><span class="mf">.</span><span class="n">jpg</span><span class="w"></span>
<span class="mf">2017</span><span class="o">-</span><span class="n">photo</span><span class="mf">.</span><span class="n">jpg</span><span class="w"></span>
<span class="mf">2018</span><span class="o">-</span><span class="n">photo</span><span class="mf">.</span><span class="n">jpg</span><span class="w"></span>
</code></pre></div>

<p>Personnellement je préfère toujours mettre mes fichiers sous la forme 2018-09-01-nom-de-fichier.ext ce qui permet d'avoir toujours la date du jour.</p>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="https://www.choiz.fr/2018-12-05-ajouter-un-disque-a-une-grappe-raid-mdadm.html">Ajouter un disque a une grappe RAID MDADM</a></h2>
    <p>
      Posté le mer. 05 décembre 2018 &#8226;
Tags :
      <a href="https://www.choiz.fr/tag/raid.html">raid</a>,      <a href="https://www.choiz.fr/tag/mdadm.html">mdadm</a>    </p>
  </header>
  <div>
      <p>Ayant enfin fini la migration de mon NAS vers mon nouveau NAS, j'ai récupéré mon troisième disque de 10To pour l'ajouter à ma grappe RAID1 qui contient déjà 2 disques de 10To.</p>
<p>Pour ajouter le disque /dev/sdd dans la grappe /dev/md0 il faut tapper la commande suivante :</p>
<div class="highlight"><pre><span></span><code>mdadm --manage /dev/md0 --add /dev/sdd1
</code></pre></div>

<p>Si vous n'avez pas de chance comme moi, vous aurez le message d'erreur suivant :</p>
<div class="highlight"><pre><span></span><code><span class="n">mdadm</span><span class="o">:</span><span class="w"> </span><span class="n">Cannot</span><span class="w"> </span><span class="n">open</span><span class="w"> </span><span class="sr">/dev/s</span><span class="n">dd1</span><span class="o">:</span><span class="w"> </span><span class="n">Device</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">resource</span><span class="w"> </span><span class="n">busy</span><span class="w"></span>
</code></pre></div>

<p>Il faut donc redémarrer la machine et éditer le grub à la main… (avec la touche e), puis ajouter dans la ligne avec le kernel <code>nodmraid</code> puis appuyer sur f10 ou b pour booter.</p>
<p>Une fois la machine prête j'ai pu lancer ma commande cette fois-ci avec succès :</p>
<div class="highlight"><pre><span></span><code>mdadm --manage /dev/md0 --add /dev/sdd1
mdadm: added /dev/sdd1
</code></pre></div>

<p>Il faut maintenant dire à MDADM qu'on a un raid1 sur 3 disques avec la commande suivante :</p>
<div class="highlight"><pre><span></span><code><span class="nv">mdadm</span><span class="w"> </span><span class="o">--</span><span class="nv">grow</span><span class="w"> </span><span class="o">/</span><span class="nv">dev</span><span class="o">/</span><span class="nv">md0</span><span class="w"> </span><span class="o">--</span><span class="nv">raid</span><span class="o">-</span><span class="nv">device</span><span class="o">=</span><span class="mi">3</span><span class="w"></span>
<span class="nv">raid_disks</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="o">/</span><span class="nv">dev</span><span class="o">/</span><span class="nv">md0</span><span class="w"> </span><span class="nv">set</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="mi">3</span><span class="w"></span>
</code></pre></div>

<p>Vous pouvez maintenant faire un watch pour voir l'avancement de la copie sur le troisième disque :</p>
<div class="highlight"><pre><span></span><code>watch cat /proc/mdstat
</code></pre></div>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="https://www.choiz.fr/2018-07-30-installer-et-utiliser-lxc.html">Installer et utiliser lxc</a></h2>
    <p>
      Posté le lun. 30 juillet 2018 &#8226;
Tags :
      <a href="https://www.choiz.fr/tag/linux.html">linux</a>,      <a href="https://www.choiz.fr/tag/lxc.html">lxc</a>,      <a href="https://www.choiz.fr/tag/debian.html">debian</a>    </p>
  </header>
  <div>
      <p>Installation de lxc sur debian :</p>
<p><code>apt-get install lxc</code></p>
<p>Création d'un conteneur lxc sous debian :</p>
<p><code>lxc-create -n debian9 -t download</code></p>
<p>Sélectionner :</p>
<div class="highlight"><pre><span></span><code><span class="n">distribution</span><span class="o">:</span><span class="w"> </span><span class="n">debian</span><span class="w"></span>
<span class="n">Release</span><span class="o">:</span><span class="w"> </span><span class="n">strech</span><span class="w"></span>
<span class="n">Architecture</span><span class="o">:</span><span class="w"> </span><span class="n">amd64</span><span class="w"></span>
</code></pre></div>

<p>Lister les conteneurs :</p>
<div class="highlight"><pre><span></span><code>lxc-ls -f
NAME        STATE   AUTOSTART GROUPS IPV4 IPV6
debian9     STOPPED 0         -      -    -
</code></pre></div>

<p>Copier debian9 en conteneur debian pour l'utiliser pour un wiki par exemple :</p>
<div class="highlight"><pre><span></span><code>lxc-copy -n debian9 -N debian9wiki -B overlay -s
</code></pre></div>

<p>Vérifions :</p>
<div class="highlight"><pre><span></span><code>lxc-ls -f
NAME        STATE   AUTOSTART GROUPS IPV4 IPV6
debian9     STOPPED 0         -      -    -
debian9wiki STOPPED 0         -      -    -
</code></pre></div>

<p>Lancer debian9wiki :</p>
<div class="highlight"><pre><span></span><code>lxc-start -n debian9wiki
</code></pre></div>

<p>Vérifions :</p>
<div class="highlight"><pre><span></span><code>lxc-ls -f
NAME        STATE   AUTOSTART GROUPS IPV4           IPV6
debian9     STOPPED 0         -      -              -
debian9wiki RUNNING 0         -      192.168.60.140 -
</code></pre></div>

<p>Se connecter a l'aide de lxc-attach :</p>
<div class="highlight"><pre><span></span><code>lxc-attach -n debian9wiki
</code></pre></div>

<p>Installer openssh-server</p>
<div class="highlight"><pre><span></span><code>apt-get install openssh-server
</code></pre></div>

<p>Ajouter votre utilisateur user :</p>
<div class="highlight"><pre><span></span><code>useradd user
</code></pre></div>

<p>Se déconnecter du conteneur et se connecter via ssh avec votre utilisateur user.</p>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="https://www.choiz.fr/2017-10-21-installation-d-un-controlleur-unifi-sur-raspberry-pi-3.html">Installation d'un controlleur Unifi sur Raspberry Pi 3</a></h2>
    <p>
      Posté le sam. 21 octobre 2017 &#8226;
Tags :
      <a href="https://www.choiz.fr/tag/raspberry.html">raspberry</a>,      <a href="https://www.choiz.fr/tag/unifi.html">unifi</a>,      <a href="https://www.choiz.fr/tag/debian.html">debian</a>,      <a href="https://www.choiz.fr/tag/linux.html">linux</a>    </p>
  </header>
  <div>
      <p>Pour commencer il faut télécharger la dernière version de raspbian sur le site
officiel raspberrypi.org. Actuellement c'est 2017-09-07-raspbian-stretch-lite.zip.</p>
<p>Il faut ensuite extraire l'image de l'archive :</p>
<div class="highlight"><pre><span></span><code>unzip 2017-09-07-raspbian-stretch-lite.zip
</code></pre></div>

<p>Puis mettre l'image sur une carte micro sd, j'utilise la commande <code>dmesg</code> pour
voir le nom du périphérique USB sur ma machine :</p>
<div class="highlight"><pre><span></span><code><span class="o">[</span><span class="n">5371729.056039</span><span class="o">]</span><span class="w"> </span><span class="n">usb</span><span class="o">-</span><span class="n">storage</span><span class="w"> </span><span class="mi">2</span><span class="o">-</span><span class="mf">1.3</span><span class="err">:</span><span class="mf">1.0</span><span class="err">:</span><span class="w"> </span><span class="n">USB</span><span class="w"> </span><span class="n">Mass</span><span class="w"> </span><span class="n">Storage</span><span class="w"> </span><span class="n">device</span><span class="w"> </span><span class="n">detected</span><span class="w"></span>
<span class="o">[</span><span class="n">5371729.056115</span><span class="o">]</span><span class="w"> </span><span class="n">scsi</span><span class="w"> </span><span class="nl">host5</span><span class="p">:</span><span class="w"> </span><span class="n">usb</span><span class="o">-</span><span class="n">storage</span><span class="w"> </span><span class="mi">2</span><span class="o">-</span><span class="mf">1.3</span><span class="err">:</span><span class="mf">1.0</span><span class="w"></span>
<span class="o">[</span><span class="n">5371730.058300</span><span class="o">]</span><span class="w"> </span><span class="n">scsi</span><span class="w"> </span><span class="mi">5</span><span class="err">:</span><span class="mi">0</span><span class="err">:</span><span class="mi">0</span><span class="err">:</span><span class="mi">0</span><span class="err">:</span><span class="w"> </span><span class="n">Direct</span><span class="o">-</span><span class="n">Access</span><span class="w">     </span><span class="n">Single</span><span class="w">   </span><span class="n">Flash</span><span class="w"> </span><span class="n">Reader</span><span class="w">     </span><span class="mf">1.00</span><span class="w"> </span><span class="nl">PQ</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="nl">ANSI</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w"></span>
<span class="o">[</span><span class="n">5371730.058447</span><span class="o">]</span><span class="w"> </span><span class="n">sd</span><span class="w"> </span><span class="mi">5</span><span class="err">:</span><span class="mi">0</span><span class="err">:</span><span class="mi">0</span><span class="err">:</span><span class="mi">0</span><span class="err">:</span><span class="w"> </span><span class="n">Attached</span><span class="w"> </span><span class="n">scsi</span><span class="w"> </span><span class="n">generic</span><span class="w"> </span><span class="n">sg1</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="mi">0</span><span class="w"></span>
<span class="o">[</span><span class="n">5371730.509370</span><span class="o">]</span><span class="w"> </span><span class="n">sd</span><span class="w"> </span><span class="mi">5</span><span class="err">:</span><span class="mi">0</span><span class="err">:</span><span class="mi">0</span><span class="err">:</span><span class="mi">0</span><span class="err">:</span><span class="w"> </span><span class="o">[</span><span class="n">sdb</span><span class="o">]</span><span class="w"> </span><span class="mi">15759360</span><span class="w"> </span><span class="mi">512</span><span class="o">-</span><span class="n">byte</span><span class="w"> </span><span class="n">logical</span><span class="w"> </span><span class="nl">blocks</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="mf">8.07</span><span class="w"> </span><span class="n">GB</span><span class="o">/</span><span class="mf">7.51</span><span class="w"> </span><span class="n">GiB</span><span class="p">)</span><span class="w"></span>
<span class="o">[</span><span class="n">5371730.510383</span><span class="o">]</span><span class="w"> </span><span class="n">sd</span><span class="w"> </span><span class="mi">5</span><span class="err">:</span><span class="mi">0</span><span class="err">:</span><span class="mi">0</span><span class="err">:</span><span class="mi">0</span><span class="err">:</span><span class="w"> </span><span class="o">[</span><span class="n">sdb</span><span class="o">]</span><span class="w"> </span><span class="k">Write</span><span class="w"> </span><span class="n">Protect</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">off</span><span class="w"></span>
<span class="o">[</span><span class="n">5371730.510386</span><span class="o">]</span><span class="w"> </span><span class="n">sd</span><span class="w"> </span><span class="mi">5</span><span class="err">:</span><span class="mi">0</span><span class="err">:</span><span class="mi">0</span><span class="err">:</span><span class="mi">0</span><span class="err">:</span><span class="w"> </span><span class="o">[</span><span class="n">sdb</span><span class="o">]</span><span class="w"> </span><span class="n">Mode</span><span class="w"> </span><span class="nl">Sense</span><span class="p">:</span><span class="w"> </span><span class="mi">03</span><span class="w"> </span><span class="mi">00</span><span class="w"> </span><span class="mi">00</span><span class="w"> </span><span class="mi">00</span><span class="w"></span>
<span class="o">[</span><span class="n">5371730.511384</span><span class="o">]</span><span class="w"> </span><span class="n">sd</span><span class="w"> </span><span class="mi">5</span><span class="err">:</span><span class="mi">0</span><span class="err">:</span><span class="mi">0</span><span class="err">:</span><span class="mi">0</span><span class="err">:</span><span class="w"> </span><span class="o">[</span><span class="n">sdb</span><span class="o">]</span><span class="w"> </span><span class="k">No</span><span class="w"> </span><span class="n">Caching</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="k">found</span><span class="w"></span>
<span class="o">[</span><span class="n">5371730.511386</span><span class="o">]</span><span class="w"> </span><span class="n">sd</span><span class="w"> </span><span class="mi">5</span><span class="err">:</span><span class="mi">0</span><span class="err">:</span><span class="mi">0</span><span class="err">:</span><span class="mi">0</span><span class="err">:</span><span class="w"> </span><span class="o">[</span><span class="n">sdb</span><span class="o">]</span><span class="w"> </span><span class="n">Assuming</span><span class="w"> </span><span class="n">drive</span><span class="w"> </span><span class="nl">cache</span><span class="p">:</span><span class="w"> </span><span class="k">write</span><span class="w"> </span><span class="n">through</span><span class="w"></span>
<span class="o">[</span><span class="n">5371730.516135</span><span class="o">]</span><span class="w">  </span><span class="nl">sdb</span><span class="p">:</span><span class="w"> </span><span class="n">sdb1</span><span class="w"></span>
<span class="o">[</span><span class="n">5371730.519381</span><span class="o">]</span><span class="w"> </span><span class="n">sd</span><span class="w"> </span><span class="mi">5</span><span class="err">:</span><span class="mi">0</span><span class="err">:</span><span class="mi">0</span><span class="err">:</span><span class="mi">0</span><span class="err">:</span><span class="w"> </span><span class="o">[</span><span class="n">sdb</span><span class="o">]</span><span class="w"> </span><span class="n">Attached</span><span class="w"> </span><span class="n">SCSI</span><span class="w"> </span><span class="n">removable</span><span class="w"> </span><span class="k">disk</span><span class="w"></span>
</code></pre></div>

<p>Je copie donc l'image sur /dev/sdb « ma microsd d'après dmesg.</p>
<div class="highlight"><pre><span></span><code><span class="nv">dd</span><span class="w"> </span><span class="nv">bs</span><span class="o">=</span><span class="mi">4</span><span class="nv">M</span><span class="w"> </span><span class="k">if</span><span class="o">=/</span><span class="nv">home</span><span class="o">/</span><span class="nv">choiz</span><span class="o">/</span><span class="mi">2017</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="nv">raspbian</span><span class="o">-</span><span class="nv">stretch</span><span class="o">-</span><span class="nv">lite</span>.<span class="nv">img</span><span class="w"> </span><span class="nv">of</span><span class="o">=/</span><span class="nv">dev</span><span class="o">/</span><span class="nv">sdb</span><span class="w"> </span><span class="nv">conv</span><span class="o">=</span><span class="nv">fsync</span><span class="w"></span>
</code></pre></div>

<p>Une fois la copie terminée, je déconnecte la micro sd et je démarre le Raspberry Pi.</p>
<div class="highlight"><pre><span></span><code><span class="n">dd</span><span class="w"> </span><span class="n">bs</span><span class="o">=</span><span class="mh">4</span><span class="n">M</span><span class="w"> </span><span class="k">if</span><span class="o">=</span><span class="mh">2017</span><span class="o">-</span><span class="mh">09</span><span class="o">-</span><span class="mh">07</span><span class="o">-</span><span class="n">raspbian</span><span class="o">-</span><span class="n">stretch</span><span class="o">-</span><span class="n">lite</span><span class="p">.</span><span class="n">img</span><span class="w"> </span><span class="n">of</span><span class="o">=/</span><span class="n">dev</span><span class="o">/</span><span class="n">sdb</span><span class="w"> </span><span class="n">conv</span><span class="o">=</span><span class="n">fsync</span><span class="w"></span>
<span class="mh">442</span><span class="o">+</span><span class="mh">1</span><span class="w"> </span><span class="n">enregistrements</span><span class="w"> </span><span class="n">lus</span><span class="w"></span>
<span class="mh">442</span><span class="o">+</span><span class="mh">1</span><span class="w"> </span><span class="n">enregistrements</span><span class="w"> </span><span class="err">é</span><span class="n">crits</span><span class="w"></span>
<span class="mh">1854590976</span><span class="w"> </span><span class="n">bytes</span><span class="w"> </span><span class="p">(</span><span class="mh">1</span><span class="p">,</span><span class="mh">9</span><span class="w"> </span><span class="n">GB</span><span class="p">,</span><span class="w"> </span><span class="mh">1</span><span class="p">,</span><span class="mh">7</span><span class="w"> </span><span class="n">GiB</span><span class="p">)</span><span class="w"> </span><span class="n">copied</span><span class="p">,</span><span class="w"> </span><span class="mh">288</span><span class="p">,</span><span class="mh">12</span><span class="w"> </span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="mh">6</span><span class="p">,</span><span class="mh">4</span><span class="w"> </span><span class="n">MB</span><span class="o">/</span><span class="n">s</span><span class="w"></span>
</code></pre></div>

<p>Une fois le Raspberry Pi démarrer s'identifier avec : pi / raspberry (attention
le clavier est en qwerty pour l'instant donc tapper rqspberry en mot de passe ;-)</p>
<p>Puis tappez la commande <code>sudo bash</code> pour passer en root puis <code>raspi-config</code> pour
configurer votre Raspberry Pi.</p>
<ol>
<li>
<p>Changer les locales (4 Localisation Option, puis I1 Change Locale),
    décocher en_GB.UTF-8 UTF-8 et cocher fr_FR.UTF-8 UTF-8.
    "Default local for the system environment:" choisir fr_FR.UTF-8</p>
</li>
<li>
<p>Changer le timezone (4 Localisation Option, puis I2 Change Timezone),
    choisir Europe, puis Paris.</p>
</li>
<li>
<p>Changer le layout du clavier (4 Localisation Option, puis I3 Change Keyboard
    Layout), choisir Generic 105-key (Intl) PC, Other, French,
    French - French (Azerty), The Default for keybord layout, et pour finir : No compose key.</p>
</li>
<li>
<p>Changer le pays pour le wifi (4 Localisation Option, puis I4 Change Wi-fi
        Country), choisir FR France.</p>
</li>
<li>
<p>Ajouter le SSH (5 Interfacing Options, P2 SSH) Puis répondre "yes" pour
   activer le serveur SSH.</p>
</li>
<li>
<p>Choisir 7 Advanced Options, A1 Expand Filesystem.</p>
</li>
<li>
<p>Choisir 8 Update pour mettre à jour raspbian.</p>
</li>
<li>
<p>2 Hostname si vous voulez changer le nom de votre raspberry par exemple
"raspberrypi3".</p>
</li>
</ol>
<p>9: Finish, et redémarrer.</p>
<p>Récuperer l'adresse ip du raspberry pi pour se connecter dessus via SSH.</p>
<div class="highlight"><pre><span></span><code><span class="n">ssh</span><span class="w"> </span><span class="nf">pi</span><span class="nv">@adresseip</span><span class="w"></span>
</code></pre></div>

<p>Nous changeons le mot de passe de l'utilisateur 'pi'</p>
<p>pi@raspberry3:~ $ <code>passwd</code></p>
<p>pi@raspberry3:~ $ <code>sudo bash</code></p>
<p>root@raspberrypi3:/home/pi# <code>apt install dirmngr -y</code></p>
<p>root@raspberrypi3:/home/pi# <code>echo 'deb http://www.ubnt.com/downloads/unifi/debian stable ubiquiti' | tee -a /etc/apt/sources.list.d/ubnt.list &gt; /dev/null</code></p>
<p>root@raspberrypi3:/home/pi# <code>apt-key adv --keyserver keyserver.ubuntu.com --recv C0A52C50</code></p>
<p>root@raspberrypi3:/home/pi# <code>apt update -y</code></p>
<p>root@raspberrypi3:/home/pi# <code>apt install unifi -y</code></p>
<p>root@raspberrypi3:/home/pi# <code>echo 'ENABLE_MONGODB=no' | tee -a /etc/mongodb.conf &gt; /dev/null</code></p>
<p>root@raspberrypi3:/home/pi# <code>apt install oracle-java8-jdk -y</code></p>
<p>root@raspberrypi3:/home/pi# <code>echo 'JAVA_HOME=/usr/lib/jvm/jdk-8-oracle-arm32-vfp-hflt' | tee /etc/default/unifi &gt; /dev/null</code></p>
<p>root@raspberrypi3:/home/pi# <code>reboot</code></p>
<p>Une fois le raspberry pi démarrer se rendre sur <code>https://ip_raspberry:8443</code> vous
devriez avoir votre interface Unifi disponible.</p>
<p>Mettre à jour votre materiel unifi depuis le controlleur. Puis sur le raspberry
pi nous allons changer d'adresse ip pour avoir un réseau séparé.</p>
<div class="highlight"><pre><span></span><code><span class="n">ssh</span><span class="w"> </span><span class="nf">pi</span><span class="nv">@adresseip</span><span class="w"></span>
</code></pre></div>

<p>pi@raspberry3:~ $ <code>sudo vi /etc/network/interfaces</code></p>
<p>Ajouter à la fin du fichier :</p>
<div class="highlight"><pre><span></span><code>auto eth0
iface eth0 inet static
    address 10.0.0.10
    network 255.255.255.0
    gateway 10.0.0.1
</code></pre></div>

<p>Enregistrer le fichier et quitter (ne pas rédémarrer le pi pour l'instant).</p>
<p>Retourner sur l'interface d'unifi et modifier l'adresse ip de votre réseau LAN.</p>
<p>Gateway/Subnet 10.0.0.1/24</p>
<p>Cliquer sur "UPDATE DHCP RANGE" puis enregistrer vos modifications dans l'onglet
Devices votre USG devrait être en "provisionning".
Redémarrez le Raspberry Pi avec <code>sudo reboot</code> puis vous reconnecter au
controlleur avec la nouvelle adresse ip : <code>https://10.0.0.10:8443</code>.</p>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="https://www.choiz.fr/2017-10-15-faire-un-nat-avec-proxmox.html">Faire du NAT avec Proxmox</a></h2>
    <p>
      Posté le dim. 15 octobre 2017 &#8226;
Tags :
      <a href="https://www.choiz.fr/tag/network.html">network</a>,      <a href="https://www.choiz.fr/tag/proxmox.html">proxmox</a>    </p>
  </header>
  <div>
      <p>L'idée est d'utiliser qu'une seule adresse ip public pour plusieurs VM. Comme à
la maison vous avez des adresses ip en 192.168.x.x notre serveur proxmox peut
faire la même chose.</p>
<p>Ip Public de proxmox : 11.22.33.44
Ip Privé de proxmox : 10.0.0.254</p>
<p>Je me connect en ssh à Proxmox et je modifie le fichier <code>/etc/network/interfaces</code>
j'ajoute à la fin du fichier :</p>
<div class="highlight"><pre><span></span><code>auto vmbr2
iface vmbr2 inet static
    address 10.0.0.254
    netmask 255.255.255.0
    bridge_ports none
    bridge_stp off
    bridge_fd 0
    post-up echo 1 &gt; /proc/sys/net/ipv4/ip_forward
    post-up iptables -t nat -A POSTROUTING -s &#39;10.0.0.0/24&#39; -o vmbr0 -j MASQUERADE
    post-down iptables -t nat -D POSTROUTING -s &#39;10.0.0.0/24&#39; -o vmbr0 -j MASQUERADE
</code></pre></div>

<p>On peut également ajouter si on veut différents ports qu'on ouvre vers
l'exterieur vers tel ou tel VM ou conteneur.
Par exemple j'ouvre le port 22 de mon conteneur avec l'ip 10.0.0.1 sur le port
8022 de mon ip public :</p>
<div class="highlight"><pre><span></span><code>    post-up iptables -t nat -A PREROUTING -i vmbr0 -p tcp --dport 8022 -j DNAT --to 10.0.0.1:22
    post-down iptables -t nat -D PREROUTING -i vmbr0 -p tcp --dport 8022 -j DNAT --to 10.0.0.1:22
</code></pre></div>

<p>Ensuite enregistrer le fichier <code>/etc/network/interfaces</code> puis relancer les
interfaces réseaux</p>
<div class="highlight"><pre><span></span><code>service networking restart
</code></pre></div>

<p>Lorsque vous allez faire la configuration réseau d'une VM ou d'un conteneur, il
suffit de renseigner une adresse ip de la plage 10.0.0.0/24</p>
<p>Exemple :</p>
<div class="highlight"><pre><span></span><code>auto eth0
iface eth0 inet static
    address 10.0.0.1
    netmask 255.255.255.0
    gateway 10.0.0.254
</code></pre></div>

<p>Puis faites un ping depuis votre conteneur vers l'ip 10.0.0.254, puis vers un
site internet duckduckgo.com par exemple.</p>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="https://www.choiz.fr/2017-10-15-creer-un-partage-nfs.html">Créer un partage NFS</a></h2>
    <p>
      Posté le dim. 15 octobre 2017 &#8226;
Tags :
      <a href="https://www.choiz.fr/tag/nfs.html">nfs</a>,      <a href="https://www.choiz.fr/tag/linux.html">linux</a>,      <a href="https://www.choiz.fr/tag/debian.html">debian</a>,      <a href="https://www.choiz.fr/tag/gentoo.html">gentoo</a>    </p>
  </header>
  <div>
      <p>Pour installer un serveur NFS sur Debian voici la marche à suivre :</p>
<div class="highlight"><pre><span></span><code>apt install nfs-kernel-server
</code></pre></div>

<p>Une fois le paquet installé, il faut modifier la configuration pour ajouter
votre partage.</p>
<p>Editer le fichier <code>/etc/exports</code></p>
<div class="highlight"><pre><span></span><code><span class="n">vim</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">exports</span><span class="w"></span>
</code></pre></div>

<p>J'ajoute dans le fichier le dossier à partager <code>/home/user/share</code> et l'adresse
du ou des clients qui peuvent accèder a ce partage
<code>10.0.0.1(rw,sync,no_subtree_check)</code> ici mon client a l'adresse ip 10.0.0.1 ce
qui donne :</p>
<div class="highlight"><pre><span></span><code>/home/user/share 10.0.0.1(rw,sync,no_subtree_check)
</code></pre></div>

<p>Recharger le service :</p>
<div class="highlight"><pre><span></span><code><span class="n">service</span><span class="w"> </span><span class="n">nfs</span><span class="o">-</span><span class="n">kernel</span><span class="o">-</span><span class="n">server</span><span class="w"> </span><span class="n">reload</span><span class="w"></span>
</code></pre></div>

<p>Vérifier que votre partage est bien actif :</p>
<div class="highlight"><pre><span></span><code>showmount -e
</code></pre></div>

<p>Côté client, j'ai installé sur Gentoo : <code>net-fs/nfs-utils</code></p>
<div class="highlight"><pre><span></span><code>emerge -a net-fs/nfs-utils
</code></pre></div>

<p>Sur Debian installer le paquet : <code>nfs-common</code></p>
<div class="highlight"><pre><span></span><code>apt install nfs-common
</code></pre></div>

<p>Ensuite configurer votre fichier <code>/etc/fstab</code></p>
<div class="highlight"><pre><span></span><code>vim /etc/fstab
</code></pre></div>

<p>Ajouter à la fin du fichier l'ip de votre partage avec le nom local puis le
point de montage sur votre client.</p>
<div class="highlight"><pre><span></span><code><span class="mf">10.0.0.100</span><span class="p">:</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">user</span><span class="o">/</span><span class="n">share</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">user</span><span class="o">/</span><span class="n">nfs</span><span class="o">-</span><span class="n">nas</span><span class="w"> </span><span class="n">nfs</span><span class="w"> </span><span class="kd">def</span><span class="n">aults</span><span class="p">,</span><span class="n">user</span><span class="p">,</span><span class="n">auto</span><span class="p">,</span><span class="n">noatime</span><span class="p">,</span><span class="nb">int</span><span class="n">r</span><span class="w"> </span><span class="mf">0</span><span class="w"> </span><span class="mf">0</span><span class="w"></span>
</code></pre></div>

<p>Puis monter le nouveau partage avec la commande <code>mount -a</code></p>
<p>Si vous faites la commande <code>ls /home/user/nfs-nas</code> vous devriez voir les
fichiers qui se trouvent sur votre serveur.</p>
  </div>
</article>

  <div class="pagination">
    <a class="btn" href="https://www.choiz.fr/index2.html">
      <i class="fa fa-angle-left"></i> Anciens articles
    </a>
  </div>

    <footer>
      <p>&copy; François LASSERRE </p>
<p>Built using <a href="http://getpelican.com" target="_blank">Pelican</a> - <a href="https://github.com/choiz/Flexfork" target="_blank">Flexfork</a> theme by <a href="http://www.choiz.fr">François LASSERRE</a></p>    </footer>
  </main>
<!-- Piwik -->
<script type="text/javascript">
  var _paq = _paq || [];
  _paq.push(["setDomains", ["*.www.choiz.fr"]]);
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="//stats.rocketip.net/";
    _paq.push(['setTrackerUrl', u+'piwik.php']);
    _paq.push(['setSiteId', '7042kjNK6PYV9LoGM5np']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<noscript><p><img src="//stats.rocketip.net/piwik.php?idsite=7042kjNK6PYV9LoGM5np" style="border:0;" alt="" /></p></noscript>
<!-- End Piwik Code --><script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " ChoiZ ",
  "url" : "https://www.choiz.fr",
  "image": "",
  "description": ""
}
</script></body>
</html>